2025-12-01T00:03:39.557+08:00  INFO 31514 --- [main] c.p.PriceCompareApplicationTests         : Starting PriceCompareApplicationTests using Java 17.0.8 with PID 31514 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:03:39.563+08:00 DEBUG 31514 --- [main] c.p.PriceCompareApplicationTests         : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:03:39.564+08:00  INFO 31514 --- [main] c.p.PriceCompareApplicationTests         : The following 1 profile is active: "dev"
2025-12-01T00:03:42.063+08:00  INFO 31514 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-01T00:03:42.443+08:00  INFO 31514 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49b89425
2025-12-01T00:03:42.446+08:00  INFO 31514 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-01T00:03:44.542+08:00  INFO 31514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@484b5a21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16e5344c, org.springframework.security.web.context.SecurityContextHolderFilter@256a5df0, org.springframework.security.web.header.HeaderWriterFilter@16ef1160, org.springframework.web.filter.CorsFilter@3ba5c4dd, org.springframework.security.web.authentication.logout.LogoutFilter@687e561b, com.pricecompare.filter.JwtAuthenticationFilter@423ed3b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@131777e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73a5d86c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47fca3cc, org.springframework.security.web.session.SessionManagementFilter@21e39b82, org.springframework.security.web.access.ExceptionTranslationFilter@8d5da7e, org.springframework.security.web.access.intercept.AuthorizationFilter@268f0ff3]
2025-12-01T00:03:46.176+08:00  INFO 31514 --- [main] c.p.PriceCompareApplicationTests         : Started PriceCompareApplicationTests in 7.109 seconds (process running for 9.03)
2025-12-01T00:03:47.612+08:00  INFO 31514 --- [main] c.pricecompare.PriceCompareApplication   : Starting PriceCompareApplication using Java 17.0.8 with PID 31514 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:03:47.612+08:00 DEBUG 31514 --- [main] c.pricecompare.PriceCompareApplication   : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:03:47.613+08:00  INFO 31514 --- [main] c.pricecompare.PriceCompareApplication   : The following 1 profile is active: "dev"
2025-12-01T00:03:48.319+08:00  INFO 31514 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-01T00:03:48.336+08:00  INFO 31514 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-01T00:03:48.336+08:00  INFO 31514 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-01T00:03:48.610+08:00  INFO 31514 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-01T00:03:48.611+08:00  INFO 31514 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 995 ms
2025-12-01T00:03:48.692+08:00 DEBUG 31514 --- [main] c.p.filter.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-12-01T00:03:48.757+08:00  INFO 31514 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-01T00:03:48.771+08:00  INFO 31514 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@19370af1
2025-12-01T00:03:48.771+08:00  INFO 31514 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-01T00:03:49.245+08:00  INFO 31514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@206a465f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c509742, org.springframework.security.web.context.SecurityContextHolderFilter@6a0d47e8, org.springframework.security.web.header.HeaderWriterFilter@27aa0720, org.springframework.web.filter.CorsFilter@77a6aa9f, org.springframework.security.web.authentication.logout.LogoutFilter@4ecc4b43, com.pricecompare.filter.JwtAuthenticationFilter@3304362e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@480d3c40, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f69b166, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d41aefd, org.springframework.security.web.session.SessionManagementFilter@179cdf4f, org.springframework.security.web.access.ExceptionTranslationFilter@1b472cad, org.springframework.security.web.access.intercept.AuthorizationFilter@1d12eff1]
2025-12-01T00:03:49.453+08:00  WARN 31514 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-01T00:03:49.488+08:00  INFO 31514 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-01T00:03:49.498+08:00  INFO 31514 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-12-01T00:03:49.500+08:00  INFO 31514 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-01T00:03:49.510+08:00  INFO 31514 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-01T00:03:49.546+08:00 ERROR 31514 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-01T00:03:49.633+08:00  INFO 31514 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.pricecompare.integration.DatabaseIntegrationTest]: DatabaseIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-01T00:03:49.646+08:00  INFO 31514 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.pricecompare.PriceCompareApplication for test class com.pricecompare.integration.DatabaseIntegrationTest
2025-12-01T00:03:49.766+08:00  INFO 31514 --- [main] c.p.integration.DatabaseIntegrationTest  : Starting DatabaseIntegrationTest using Java 17.0.8 with PID 31514 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:03:49.794+08:00 DEBUG 31514 --- [main] c.p.integration.DatabaseIntegrationTest  : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:03:49.794+08:00  INFO 31514 --- [main] c.p.integration.DatabaseIntegrationTest  : The following 1 profile is active: "test"
2025-12-01T00:03:50.392+08:00  INFO 31514 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-01T00:03:50.405+08:00  INFO 31514 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59881424
2025-12-01T00:03:50.405+08:00  INFO 31514 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-01T00:03:50.870+08:00  INFO 31514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12ff0e4f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66b9f727, org.springframework.security.web.context.SecurityContextHolderFilter@6c6fdf5d, org.springframework.security.web.header.HeaderWriterFilter@4620e669, org.springframework.web.filter.CorsFilter@f7e004d, org.springframework.security.web.authentication.logout.LogoutFilter@1dfd39fe, com.pricecompare.filter.JwtAuthenticationFilter@291fba9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@187c8f96, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@592e315e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d33aa31, org.springframework.security.web.session.SessionManagementFilter@4b93a232, org.springframework.security.web.access.ExceptionTranslationFilter@52b4da7c, org.springframework.security.web.access.intercept.AuthorizationFilter@498d7c57]
2025-12-01T00:03:51.530+08:00  INFO 31514 --- [main] c.p.integration.DatabaseIntegrationTest  : Started DatabaseIntegrationTest in 1.877 seconds (process running for 14.383)
2025-12-01T00:03:53.912+08:00  INFO 31514 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-01T00:03:53.914+08:00  INFO 31514 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-01T00:03:54.046+08:00  INFO 31514 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-01T00:03:54.047+08:00  INFO 31514 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-12-01T00:04:33.317+08:00  INFO 32548 --- [main] c.p.PriceCompareApplicationTests         : Starting PriceCompareApplicationTests using Java 17.0.8 with PID 32548 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:04:33.319+08:00 DEBUG 32548 --- [main] c.p.PriceCompareApplicationTests         : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:04:33.321+08:00  INFO 32548 --- [main] c.p.PriceCompareApplicationTests         : The following 1 profile is active: "dev"
2025-12-01T00:04:35.514+08:00  INFO 32548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-01T00:04:35.925+08:00  INFO 32548 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59918c8f
2025-12-01T00:04:35.929+08:00  INFO 32548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-01T00:04:37.791+08:00  INFO 32548 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26712838, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@249a45fd, org.springframework.security.web.context.SecurityContextHolderFilter@1fca53a7, org.springframework.security.web.header.HeaderWriterFilter@3dea1ecc, org.springframework.web.filter.CorsFilter@268f0ff3, org.springframework.security.web.authentication.logout.LogoutFilter@1468e880, com.pricecompare.filter.JwtAuthenticationFilter@60dc1a4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21e39b82, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1280bae3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11978f52, org.springframework.security.web.session.SessionManagementFilter@53918b5e, org.springframework.security.web.access.ExceptionTranslationFilter@6f6f65a4, org.springframework.security.web.access.intercept.AuthorizationFilter@6c2dd88b]
2025-12-01T00:04:39.151+08:00  INFO 32548 --- [main] c.p.PriceCompareApplicationTests         : Started PriceCompareApplicationTests in 6.365 seconds (process running for 8.203)
2025-12-01T00:04:40.287+08:00  INFO 32548 --- [main] c.pricecompare.PriceCompareApplication   : Starting PriceCompareApplication using Java 17.0.8 with PID 32548 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:04:40.288+08:00 DEBUG 32548 --- [main] c.pricecompare.PriceCompareApplication   : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:04:40.288+08:00  INFO 32548 --- [main] c.pricecompare.PriceCompareApplication   : The following 1 profile is active: "dev"
2025-12-01T00:04:41.222+08:00  INFO 32548 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-01T00:04:41.245+08:00  INFO 32548 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-01T00:04:41.246+08:00  INFO 32548 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-01T00:04:41.418+08:00  INFO 32548 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-01T00:04:41.418+08:00  INFO 32548 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1126 ms
2025-12-01T00:04:41.556+08:00 DEBUG 32548 --- [main] c.p.filter.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-12-01T00:04:41.605+08:00  INFO 32548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-01T00:04:41.619+08:00  INFO 32548 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bbeb9e3
2025-12-01T00:04:41.619+08:00  INFO 32548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-01T00:04:42.067+08:00  INFO 32548 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f69b166, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e7e7763, org.springframework.security.web.context.SecurityContextHolderFilter@12544a50, org.springframework.security.web.header.HeaderWriterFilter@708f238f, org.springframework.web.filter.CorsFilter@4ecc4b43, org.springframework.security.web.authentication.logout.LogoutFilter@179cdf4f, com.pricecompare.filter.JwtAuthenticationFilter@216de23a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@125df632, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b472cad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f8281e6, org.springframework.security.web.session.SessionManagementFilter@509d999c, org.springframework.security.web.access.ExceptionTranslationFilter@2ef5df8f, org.springframework.security.web.access.intercept.AuthorizationFilter@480d3c40]
2025-12-01T00:04:42.318+08:00  WARN 32548 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-01T00:04:42.342+08:00  INFO 32548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-01T00:04:42.354+08:00  INFO 32548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-12-01T00:04:42.356+08:00  INFO 32548 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-01T00:04:42.369+08:00  INFO 32548 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-01T00:04:42.402+08:00 ERROR 32548 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-01T00:04:42.462+08:00  INFO 32548 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.pricecompare.integration.DatabaseIntegrationTest]: DatabaseIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-01T00:04:42.472+08:00  INFO 32548 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.pricecompare.PriceCompareApplication for test class com.pricecompare.integration.DatabaseIntegrationTest
2025-12-01T00:04:42.555+08:00  INFO 32548 --- [main] c.p.integration.DatabaseIntegrationTest  : Starting DatabaseIntegrationTest using Java 17.0.8 with PID 32548 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:04:42.555+08:00 DEBUG 32548 --- [main] c.p.integration.DatabaseIntegrationTest  : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:04:42.556+08:00  INFO 32548 --- [main] c.p.integration.DatabaseIntegrationTest  : The following 1 profile is active: "test"
2025-12-01T00:04:43.113+08:00  INFO 32548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-01T00:04:43.119+08:00  INFO 32548 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@670199c5
2025-12-01T00:04:43.120+08:00  INFO 32548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-01T00:04:43.407+08:00  INFO 32548 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@592e315e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f7a8a7b, org.springframework.security.web.context.SecurityContextHolderFilter@616d9a6d, org.springframework.security.web.header.HeaderWriterFilter@1f1b69bb, org.springframework.web.filter.CorsFilter@1dfd39fe, org.springframework.security.web.authentication.logout.LogoutFilter@4b93a232, com.pricecompare.filter.JwtAuthenticationFilter@16a4e4c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16263fb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52b4da7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@610115e8, org.springframework.security.web.session.SessionManagementFilter@c730e65, org.springframework.security.web.access.ExceptionTranslationFilter@4a57ad67, org.springframework.security.web.access.intercept.AuthorizationFilter@187c8f96]
2025-12-01T00:04:43.714+08:00  INFO 32548 --- [main] c.p.integration.DatabaseIntegrationTest  : Started DatabaseIntegrationTest in 1.235 seconds (process running for 12.767)
2025-12-01T00:04:45.177+08:00  INFO 32548 --- [main] c.p.service.impl.CrawlerServiceImpl      : 获取商品详情，商品ID：nonexistent_product，平台：taobao
2025-12-01T00:04:45.179+08:00  WARN 32548 --- [main] c.p.service.impl.CrawlerServiceImpl      : 平台未配置或已禁用：taobao
2025-12-01T00:04:45.184+08:00  INFO 32548 --- [main] c.p.service.impl.CrawlerServiceImpl      : 开始搜索商品，关键词：iPhone 15，平台：jd
2025-12-01T00:04:45.334+08:00  INFO 32548 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-01T00:04:45.339+08:00  INFO 32548 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-01T00:04:45.475+08:00  INFO 32548 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-01T00:04:45.476+08:00  INFO 32548 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-12-01T00:08:35.437+08:00  INFO 36303 --- [main] c.p.PriceCompareApplicationTests         : Starting PriceCompareApplicationTests using Java 17.0.8 with PID 36303 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:08:35.439+08:00 DEBUG 36303 --- [main] c.p.PriceCompareApplicationTests         : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:08:35.441+08:00  INFO 36303 --- [main] c.p.PriceCompareApplicationTests         : The following 1 profile is active: "dev"
2025-12-01T00:08:38.027+08:00  INFO 36303 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-01T00:08:38.304+08:00  INFO 36303 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@282c4da0
2025-12-01T00:08:38.307+08:00  INFO 36303 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-01T00:08:40.283+08:00  INFO 36303 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42066f0d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@687e561b, org.springframework.security.web.context.SecurityContextHolderFilter@72c704f1, org.springframework.security.web.header.HeaderWriterFilter@1c62d2ad, org.springframework.web.filter.CorsFilter@299786b1, org.springframework.security.web.authentication.logout.LogoutFilter@4780341, com.pricecompare.filter.JwtAuthenticationFilter@31b0f02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7612116b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@562f6681, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75f8d9b0, org.springframework.security.web.session.SessionManagementFilter@6cfd08e9, org.springframework.security.web.access.ExceptionTranslationFilter@3af39e7b, org.springframework.security.web.access.intercept.AuthorizationFilter@508f4bb5]
2025-12-01T00:08:41.975+08:00  INFO 36303 --- [main] c.p.PriceCompareApplicationTests         : Started PriceCompareApplicationTests in 7.002 seconds (process running for 8.434)
2025-12-01T00:08:43.200+08:00  INFO 36303 --- [main] c.pricecompare.PriceCompareApplication   : Starting PriceCompareApplication using Java 17.0.8 with PID 36303 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:08:43.201+08:00 DEBUG 36303 --- [main] c.pricecompare.PriceCompareApplication   : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:08:43.201+08:00  INFO 36303 --- [main] c.pricecompare.PriceCompareApplication   : The following 1 profile is active: "dev"
2025-12-01T00:08:43.897+08:00  INFO 36303 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-01T00:08:43.912+08:00  INFO 36303 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-01T00:08:43.913+08:00  INFO 36303 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-12-01T00:08:44.051+08:00  INFO 36303 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-01T00:08:44.052+08:00  INFO 36303 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 849 ms
2025-12-01T00:08:44.140+08:00 DEBUG 36303 --- [main] c.p.filter.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-12-01T00:08:44.204+08:00  INFO 36303 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-01T00:08:44.224+08:00  INFO 36303 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e08ed28
2025-12-01T00:08:44.224+08:00  INFO 36303 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-01T00:08:44.586+08:00  INFO 36303 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@384b718c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68b4e7b5, org.springframework.security.web.context.SecurityContextHolderFilter@47e89fed, org.springframework.security.web.header.HeaderWriterFilter@308f18c0, org.springframework.web.filter.CorsFilter@5a88ecb9, org.springframework.security.web.authentication.logout.LogoutFilter@e5bce8e, com.pricecompare.filter.JwtAuthenticationFilter@1aade3c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fcef6f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57cfb4d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ace902e, org.springframework.security.web.session.SessionManagementFilter@7d44e3c7, org.springframework.security.web.access.ExceptionTranslationFilter@71852f76, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0989f7]
2025-12-01T00:08:44.784+08:00  WARN 36303 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-01T00:08:44.820+08:00  INFO 36303 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-01T00:08:44.829+08:00  INFO 36303 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-12-01T00:08:44.830+08:00  INFO 36303 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-01T00:08:44.844+08:00  INFO 36303 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-01T00:08:44.881+08:00 ERROR 36303 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-01T00:08:44.943+08:00  INFO 36303 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.pricecompare.integration.DatabaseIntegrationTest]: DatabaseIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-01T00:08:44.957+08:00  INFO 36303 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.pricecompare.PriceCompareApplication for test class com.pricecompare.integration.DatabaseIntegrationTest
2025-12-01T00:08:45.022+08:00  INFO 36303 --- [main] c.p.integration.DatabaseIntegrationTest  : Starting DatabaseIntegrationTest using Java 17.0.8 with PID 36303 (started by karl in /usr/local/share/value-space/auto-value-pliot/price-compare-backend)
2025-12-01T00:08:45.022+08:00 DEBUG 36303 --- [main] c.p.integration.DatabaseIntegrationTest  : Running with Spring Boot v3.1.6, Spring v6.0.14
2025-12-01T00:08:45.023+08:00  INFO 36303 --- [main] c.p.integration.DatabaseIntegrationTest  : The following 1 profile is active: "test"
2025-12-01T00:08:45.489+08:00  INFO 36303 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-01T00:08:45.500+08:00  INFO 36303 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53141d3f
2025-12-01T00:08:45.501+08:00  INFO 36303 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-01T00:08:45.799+08:00  INFO 36303 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5915ab69, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d63f6be, org.springframework.security.web.context.SecurityContextHolderFilter@4fdea2de, org.springframework.security.web.header.HeaderWriterFilter@43300e64, org.springframework.web.filter.CorsFilter@23a0c7f3, org.springframework.security.web.authentication.logout.LogoutFilter@7356ec91, com.pricecompare.filter.JwtAuthenticationFilter@7108b12d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ea24702, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1da2219c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21b96db, org.springframework.security.web.session.SessionManagementFilter@27ae6f9e, org.springframework.security.web.access.ExceptionTranslationFilter@34e4a136, org.springframework.security.web.access.intercept.AuthorizationFilter@33224703]
2025-12-01T00:08:46.137+08:00  INFO 36303 --- [main] c.p.integration.DatabaseIntegrationTest  : Started DatabaseIntegrationTest in 1.174 seconds (process running for 12.595)
2025-12-01T00:08:48.159+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 获取商品详情，商品ID：123456，平台：jd
2025-12-01T00:08:48.164+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 商品详情获取完成，商品ID：123456，平台：jd
2025-12-01T00:08:48.205+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 批量搜索商品，关键词：iPhone 15，平台：[jd]
2025-12-01T00:08:48.206+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 开始搜索商品，关键词：iPhone 15，平台：jd
2025-12-01T00:08:48.216+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 搜索完成，找到5个商品，关键词：iPhone 15，平台：jd
2025-12-01T00:08:48.326+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 批量搜索完成，共找到5个商品，关键词：iPhone 15
2025-12-01T00:08:48.335+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 获取商品详情，商品ID：nonexistent_product，平台：taobao
2025-12-01T00:08:48.335+08:00  WARN 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 平台未配置或已禁用：taobao
2025-12-01T00:08:48.353+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 开始搜索商品，关键词：iPhone 15，平台：jd
2025-12-01T00:08:48.356+08:00  INFO 36303 --- [main] c.p.service.impl.CrawlerServiceImpl      : 搜索完成，找到5个商品，关键词：iPhone 15，平台：jd
2025-12-01T00:08:48.525+08:00  INFO 36303 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-01T00:08:48.541+08:00  INFO 36303 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-01T00:08:48.782+08:00  INFO 36303 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-01T00:08:48.785+08:00  INFO 36303 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
